# NAT(Network Address Translation)

**사설 아이피를 공인 아이피로 변환해주는 기술**

### 공인 IP와 사설 IP

**공인 IP**: 인터넷 통신을 위해 주소로 사용<br>
**사설 IP**: 네트워크 내부에서만 통신 가능

![Alt text](<이미지/사설 IP 통신 불가.png>)

목적지 주소가 사설 IP인 패킷은 인터넷 상에서 폐기된다.

> 사설 아이피를 사용하는 이유는?<br>
전 세계에 존재하는 모든 호스트에게 공인 아이피를 할당하는 것은 불가능하기 때문

## NAT 동작 방식

사설 IP를 가진 호스트가 인터넷과 통신하려면 공인 IP로 전환되어야 한다. 실제로 IP 주소가 변하는 것이 아니라 라우터에 존재하는 NAT 테이블에 매핑된다.

![Alt text](<이미지/NAT 주소 변환.png>)

1. 호스트가 요청을 보낼 때, 라우터에서 사설 IP와 공인 IP를 매핑시키고 출발지를 공인 IP로 설정한다.

2. 요청에 대한 응답은 라우터로 돌아온다.

3. 라우터는 기존에 매핑한 정보를 바탕으로 호스트의 사설 IP를 목적지로 설정한다.

4. 실제 호스트로 응답이 전달된다.