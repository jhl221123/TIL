# 쿠키와 보안

쿠키는 지속성에 따라 두 가지 종류로 구분한다. 사용자 상태 및 정보를 얼마나 오래 유지해야 하는지, 브라우저 세션이 종료되어도 정보를 유지해야 하는지 등을 고려한 후에 어떤 유형의 쿠키를 사용할 지 결정할 수 있다.

## 세션 쿠키(Session Cookie)

* 브라우저의 세션이 유지되는 동안에만 사용하는 쿠키로 브라우저 프로세스가 할당된 메모리에 일시적으로 저장된다.

* 세션이 종료되거나 브라우저를 닫으면 자동으로 삭제된다.

* 주로 로그인 상태 유지, 장바구니 관리 등의 목적으로 사용된다.

## 영속 쿠키(Persistent Cookie)

* 지정된 기간 동안 사용자의 디스크에 저장되는 쿠키로 브라우저 세션이 종료되더라도 삭제되지 않는다.

* 장기간 유지되어야 하는 정보를 대상으로 사용하며, 별도로 만료 기간을 설정하지 않으면 영구적으로 사용할 수도 있다.

* 만료 기간이 지난 영속 쿠키는 브라우저에 의해 삭제되며, 브라우저는 사용자의 디스크에 저장된 쿠키를 주기적으로 검사하고 정리한다.

* 영속 쿠키는 주로 브라우저 기본 설정, 자동 로그인 기능, 선호도 조사와 같은 목적으로 사용된다.

## Secure과 HttpOnly 쿠키

쿠키는 서비스와 사용자 간의 상호작용을 개선하고 향상된 경험을 제공하기 위해 사용되지만, 개인 정보 보호 및 보안 문제에 대한 고려도 중요하다. HTTP 쿠키는 보안을 위해 다음 기능을 제공하며, 쿠키 생성 시 설정할 수 있다.

### Secure

* 쿠키가 HTTPS 프로토콜을 통해서만 전송되도록 한다.
* HTTP 프로토콜을 사용하는 연결에서는 Secure 설정된 쿠키를 전송하지 않는다.

### HttpOnly 설정

* HTTP 기반의 통신을 통해서만 접근할 수 있다.
* 클라이언트 측에서 JavaScript로 쿠키에 접근하지 못하도록 하기 때문에 XSS 공격을 방지할 수 있다.

> XSS (Cross-Site Scripting): 웹 페이지에 악성 스크립트를 삽입하여 사용자들의 브라우저에서 실행되게 만드는 공격으로 보안을 우회하여 사용자 정보를 탈취할 수 있다.