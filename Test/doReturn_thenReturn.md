# doReturn(...).when(...)

* 메서드가 수행하는 행위 자체를 모킹한다.
* 따라서 메서드가 실제로 호출되지 않는다.
* 사이드 이펙트 걱정 없이, 항상 일관된 방식으로 사용할 수 있다.

# when(...).thenReturn(...)

* 메서드가 실제로 호출되고, 반환되는 값만 모킹한다.
* 컴파일러가 타입을 체크해주는 장점이 있다.
* Spy를 사용하는 경우, 특정 상황에서 실제 메서드 호출로 인한 사이드 이펙트가 발생할 수 있다.

# 트레이드 오프

* 보통 가독성을 이유로 `when(...).thenReturn(...)`을 많이 사용한다.
* 메서드 호출로 인한 사이드 이펙트 발생률이 적다면 `when(...).thenReturn(...)`를 고려해 볼 수 있다.
* 테스트 방식의 일관성을 고려한다면, `doReturn(...).when(...)` 방식만 사용하는 것이 유리하다. 
* 또, 잘못된 타입은 테스트를 실행하면 바로 알 수 있기 때문에 상황에 따라 컴파일 체크가 큰 이점은 아닐 수 있다.