# Docker
실행하는 환경과 상관없이 도커의 컨테이너들은 리눅스 가상환경의 형태로 돌아간다.

## 이미지

* 특정 환경의 상태를 캡쳐해서 박제해 놓은 것이다.
* 도커는 먼저 이미지를 찾아보고 없으면 Docker Hub에서 해당 이름으로 등록된 이미지를 다운받거나, 이미 다운받은 이미지를 컨테이너로 만들어 실행할 수 있도록 한다.
* 이미지가 있다면 컨테이너를 몇 개든 만들 수 있다.

## 볼륨
* 컨테이너와 특정 폴더를 공유
* 작성한 코드가 컨테이너 환경안에서 사용될 수 있도록 해준다.

> 볼륨과 카피의 차이점<br>
카피는 이미지를 생성하는 과정에서 해당 이미지 안에 특정 파일을 미리 넣어두는 것<br>
볼륨은 컨테이너가 실행될 때, 내부의 폴더를 외부의 것과 연결하는 것

## docker-compose
* 거시적 설계도로 각각 이미지를 받는 것이 아니라 한 번에 처리
* 프론트, 백, 데이터 등 각 항목을 서비스의 내부 항목으로 관리

# Jenkins
* Java로 제작된 오픈 소스 CI 툴로 프로젝트의 구축, 배포 및 자동화를 지원하는 수백 개의 플러그인을 제공한다.

* 젠킨스는 project를 사용하여 작업을 수행하며, project는 Jenkins 사용자가 정의하고 실행한다.

* organization folder를 사용해서 리포지토리와 브랜치가 추가되거나 제거될 때, Jenkins에서 작업의 생성 및 삭제를 자동화할 수 있다.

* GitHub, Bitbucket, GitLab 또는 Gitea을 사용하는 경우, Jenkins는 새 리포지토리의 생성을 자동으로 감지하고 이에 대한 멀티 브랜치 파이프라인 프로젝트를 생성할 수 있다.

> 멀티 브랜치 파이프라인이란?<br>
Jenkins에서 제공하는 Item의 종류 중 하나로, 하나의 프로젝트의 여러 브랜치를 한 번에 대응할 수 있다.

# Github Actions
코드 저장소에서 이벤트가 발생했을 때 특정 작업을 자동으로 수행하거나 주기적으로 어떤 작업들을 반복해서 실행시킬 수 있다.

## Workflows
* GitHub Actions에서 가장 상위 개념으로 자동화 해놓은 작업 과정이다.
* 워크플로우는 코드 저장소 내에서 .github/workflows 폴더 아래에 위치한 YAML 파일로 설정하며, 하나의 코드 저장소에는 여러 개의 워크플로우를 생성할 수 있다.

* 워크플로우에는 크게 2가지를 정의해야한다.
	* on 속성을 통해서 해당 워크플로우가 언제 실행되는지를 정의
	* jobs 속성을 통해서 해당 워크플로우가 구체적으로 어떤 일을 해야 하는지 명시

### on
* 브랜치, 이벤트, 경로 등의 조건을 설정

> 참고!<br>
paths/paths-ignore는 하나의 이벤트에서 두 가지를 동시에 사용할 수 없다.

### Jobs
* GitHub Actions에서 작업(Job)이란 독립된 가상 머신 또는 컨테이너에서 돌아가는 처리 단위를 의미한다.

* 하나의 워크플로우는 여러 개의 작업으로 구성되며, 적어도 하나의 작업은 있어야 한다.

* 워크플로 실행은 기본적으로 병렬로 실행되며, 작업을 순차적으로 실행하려면 다른 작업에 대한 종속성을 정의할 수 있다.

#### runs-on
* 리눅스, 윈도우즈, 우분투와 같은 실행 환경을 지정

#### Steps
* 하나의 작업은 보통 순차적으로 수행되는 여러 개의 단계(step)로 정의된다.
* 각 단계는 단순한 커맨드일 수도 있고 추상화된 액션일 수도 있다.

### Actions
* GitHub Actions에서 빈번하게 사용되는 반복 단계를 재사용하기 용이하도록 제공되는 일종의 작업 공유 메커니즘이다.

* 사용자가 직접 작성하거나, marketplace를 통해 다른 개발자가 작성한 것을 사용할 수도 있다.

# Jenkins vs Github Actions

### Jenkins
#### 장점
* 수많은 플러그인과 자료가 있으며, 라이선스는 무료다.

#### 단점
* 별도의 서버를 사용하기 때문에 유지비용이 필요하며, 초기 구성을 위한 설정이 까다롭다.
* 플러그인을 최신 상태로 유지해야하며, 업데이트 하지 않을 경우 장애가 발생할 수 있다.
* 작성한 project를 공유할 수 없다.

### Github Actions
장점
* Github이 제공하는 클라우드 서버에서 동작하기 때문에 별도의 설치과정 없이 사용가능하다.
* Marketplace를 통해 다른 개발자가 작성한 action을 재사용할 수 있기 때문에 시간을 절약할 수 있다.

단점
* Private Repository에 한해 요금이 발생한다.


**소규모 개발이라면 Github Actions를, 규모가 크다면 Jenkins를 사용하는 것이 좋다.**