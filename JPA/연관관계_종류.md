# 연관관계 매핑 종류(다중성)

**DB의 관계와 매핑하기 위해 사용**

### @ManyToOne

* 연관관계의 주인을 Many, 외래키가 있는 곳으로 지정
* 역방향 참조가 많이 발생하면 객체상 참조만 추가
* 객체지향적으로 조금 손해를 보더라도 최대한 다대일로 해결하도록 하자.

### @OneToMany

* 연관관계의 주인을 One, 외래키가 없는 곳으로 지정
* 역방향 참조만 즉, One에서만 참조가 필요한 경우 사용
* 엔티티가 관리하는 외래키가 다른 테이블에 존재하기 때문에 혼란을 야기할 수 있다.

### @OneToOne

* 외래키가 있는 곳을 연관관계의 주인으로 지정
* 엔티티와 매핑된 테이블에 외래키가 존재하지 않는다면, 연관관계의 주인이 될 수 없다.
* 주 테이블과 대상 테이블 사이에서 외래키 위치에 대한 트레이드 오프가 발생할 수 있다.
    * 주 테이블에 위치하면 DB 입장에서 변경에 대처하는 것이 힘들 수 있다.
    * 대상 테이블에 위치하면 불필요한 양방향 설정을 해야하고, **지연로딩이 적용되지 않는다.**

### @ManyToMany

* 다대다 관계의 경우, 객체는 리스트를 참조하면 되지만 테이블은 따로 매핑 테이블을 생성해야 한다.
    * 이런 차이에 맞춰서 매핑할 수 있도록 지원한다.
* 하지만 매핑 테이블에 다른 정보를 추가할 수 없으며, 예상치 못한 쿼리가 발생할 수도 있기 때문에 사용을 지양해야 한다.