# 서브넷(Subnet)

**하나의 네트워크가 분할되어 나눠진 작은 네트워크**

IP 주소 클래스 단위로 분류하면 네트워크를 적절한 크기로 구분할 수 없기 때문에 서브넷으로 분할하여 사용한다.

### IP 주소 클래스

|클래스|범위|
|---|---|
|A|첫 번째 비트가 0인 주소 범위(0.0.0.0 - 127.255.255.255)|
|B|첫 번째 두 비트가 10으로 시작하는 주소 범위(128.0.0.0 - 191.255.255.255)|
|C|첫 번째 세 비트가 110으로 시작하는 주소 범위(192.0.0.0 - 223.255.255.255)|
|D|첫 번째 네 번째 비트가 1110으로 시작하는 주소 범위(224.0.0.0 - 239.255.255.255)|
|E|첫 번째 네 번째 비트가 1111로 시작하는 주소 범위(240.0.0.0 - 255.255.255.255)|

주소 범위를 정의하고 네트워크 식별 및 호스트 식별을 위해 사용해 왔지만, 이제는 서브넷팅과 CIDR (Classless Inter-Domain Routing)를 통해 주소 공간을 더 효율적으로 관리한다.

## 서브넷 마스크

IP 주소는 네트워크부와 호스트부로 구성되며, 둘의 경계는 변동될 수 있다. IP 주소의 어디까지가 네트워크부인지 명시한 것이 서브넷 마스크다.

* 네트워크부 ↓ : 네트워크의 표현 범위 ↓, 현재 네트워크 범위 ↑ = 호스트 표현 범위 ↑

![Alt text](<이미지/IP 네트워크부와 호스트부.png>)

IP 주소와 마찬가지로 32비트이며, '0'과 '1'로만 구성되어 있다. '1'은 네트워크부를 나타내며, '0'은 호스트부를 나타내기 때문에 반드시 연속하는 순서로 표현된다.

![Alt text](<이미지/서브넷 마스크 적용 방식.png>)

간편하게 표현하기 위해 8비트씩 10진수로 변환해서 표시한다. 서브넷 마스크에서 가질 수 있는 값은 아래와 같다.

![Alt text](<이미지/10진수와 2진수 주소체계.png>)

## 서브넷의 범위

```
205.0.1.129 // IP
255.255.255.128 // 서브넷마스크
```

위의 서브넷 마스크를 이진수로 표현하면 다음과 같다.

```
11111111 11111111 11111111 10000000
```

여기서 호스트 범위는 **네트워크 주소와 브로드캐스트 주소를 제외**하고 205.0.1.129 ~ 205.0.1.254 가 된다.

* 네트워크 주소: 205.0.1.128
* 브로드캐스트 주소: 205.0.1.255

만약 네 개의 서브넷으로 분할하고 싶다면, 네트워크 주소를 한 자리 더 추가하면 된다. 하지만 분할을 많이 할수록 하나의 서브넷에서 가질 수 있는 호스트 주소가 줄어들기 때문에 네트워크의 규모에 따라 적절하게 조정해야 한다.

### 네트워크 주소와 브로드캐스트 주소

* **네트워크 주소**: 네트워크 자체를 식별하기 위해 사용하며, 호스트부가 모두 비트'0'으로 채워진 주소

* **브로드캐스트 주소**: 네트워크 내부 모든 호스트에게 동시에, 동일한 요청을 보내기 위해 사용한다. 보통 255.255.255.255를 많이 사용하지만, 호스트부가 모두 비트'1'로 채워졌다면 문제 없다.

### 프리픽스 표기

IP 주소 뒤에 '/'와 함께 '1'의 개수를 표기하는 방식

```
//8비트 10진수 4자리
192.168.1.1 255.255.255.0

//프리픽스 표기
192.168.1.1/24
```

## 서브넷의 이점

* 낭비되는 IP주소 자원을 최소화하며, 네트워크를 운영중인 서비스의 규모에 맞게 분할하여 사용할 수 있다.

* 브로드 캐스팅을 사용할 때 연결된 호스트 디바이스가 많다면, 성능 저하가 올 수 있다. 서브넷팅으로 네트워크의 규모를 줄이면 브로드 캐스팅으로 인한 부하를 줄일 수 있다.