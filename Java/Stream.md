# Stream(스트림)

**연속된 정보 처리를 지원하는 API**

* 처리 과정은 **스트림 생성 - 중간 연산 - 종단 연산으로 구분** 된다.
  * 여러 개의 중간 연산을 연결해서 처리할 수 있다.
* **지연 처리**를 통해 불필요한 연산을 하지 않는다.
  * 중간 연산들은 종단 연산 수행시 필요한 작업만 골라서 한 번에 적용된다.
* 자료구조와 달리 메모리에 데이터를 저장하지 않고, 필요한 데이터 처리만 수행한다.
  * 최종 결과를 얻을 때까지 데이터를 메모리에 유지하지 않는다.
  * 대용량 데이터를 다룰 때 메모리를 효율적으로 사용할 수 있다.
* 연산 결과는 새 스트림으로 반환되며, 원본 객체에 영향을 주지 않는다.
* 스트림의 요소는 스트림의 수명 동안 한 번만 방문된다.
  * 동일한 요소에 다시 방문하려면 새 스트림을 생성해야 한다.

```java
List<Integer> list = new ArrayList<>(Arrays.asList(new Integer[] {1, 5, 10, 15}));

list.stream() // 스트림 생성
        .filter(x -> x > 10) // 중간 연산
        .count(); // 종단 연산
```

# 병렬 스트림

**Stream API의 일부로, 스트림 연산을 병렬로 처리하는 데 사용되는 기능**

* 처리해야할 데이터가 많을 경우 처리시간을 단축하기 위해 사용한다.
* **내부적으로 Fork-Join 프레임워크가 사용**되어 여러 쓰레드로 나뉘어 작업이 수행된다.

## Fork-Join

**작업을 여러 개로 나누어 처리하고 결과를 모으는 작업**

**Fork**: 작업을 여러 개로 나누는 것<br>
**Join**: 나누어 작업한 결과를 모으는 것

* 스레드 간 동기화 문제에 주의해야 한다.
* 작업을 분할하고 병합하는 과정에서 오버헤드가 발생할 수 있다.
    * 연산에 따라 오히려 성능이 저하될 수도 있다.