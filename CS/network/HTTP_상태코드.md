# HTTP 상태 코드

클라이언트와 서버 간의 통신을 보다 명확하고 효과적으로 처리하기 위해 사용한다. 클라이언트는 상태 코드를 분석해 어떻게 처리할지 결정하고, 서버는 올바른 상태 코드를 사용하여 응답을 전달한다.

## 1xx

클라이언트의 요청이 받아들여졌으며, 추가 동작이 필요한 경우에 사용한다.

### 100 Continue

요청에 이상이 없으니 계속해서 정보를 보내도 된다는 것을 의미하는 상태 코드

### 101 Switching Protocols

서버의 프로토콜이 요청한 프로토콜로 변경되었다는 것을 의미하는 상태 코드

일반적으로 `WebSocket` 연결을 설정할 때 사용한다. 클라이언트가 `WebSocket` 연결을 요청하면 서버가 `101` 로 응답을 보내고, 이후부터 `WebSocket` 프로토콜로 통신하게 된다.

#### WebSocket

웹 브라우저와 웹 서버 간의 양방향 통신을 위한 특수한 프로토콜로 `HTTP` 보다 빠르고 효율적인 통신을 가능하게 한다. `WebSocket` 연결은 `HTTP` 를 기반으로 시작하며, 클라이언트가 서버에 `WebSocket` 연결을 요청하면 서버가 `101` 로 응답하고 `WebSocket` 프로토콜로 전환한다.

### 102 Processing(Deprecated)

전체 요청이 수신되었으며, 서버가 이를 처리하고 있음을 나타내는 상태코드

서버가 요청을 처리하는데 상당한 시간이 걸릴 것으로 예상하는 경우에 사용하며, 클라이언트에게 요청이 처리중임을 명시하기 위해 사용한다.

### 103 Early Hints

요청을 처리하는 동안 서버가 예비 응답을 보내는 데 사용되는 HTTP 상태 코드

클라이언트가 요청한 자원의 일부 혹은 추가 정보를 미리 전달하여 해당 자원을 효율적으로 처리하도록 도와주기 위해 사용한다.

## 2xx

클라이언트의 요청이 성공적으로 처리되었음을 나타낸다.

### ✅ 200 OK

요청이 성공적으로 처리되었음을 나타내는 상태 코드

캐시가 가능하며 응답으로 요청한 자원을 전달한다.

#### 응답코드와 캐시

웹 페이지에 포함된 이미지가 캐시 가능한 상태 코드로 응답된다면, 브라우저는 해당 이미지를 캐시에 저장한다. 이후에 동일한 요청이 들어올 때, 브라우저는 서버로부터 이미지를 다시 요청하지 않고 캐시에서 이미지를 로드할 수 있게 된다.

### ✅ 201 Created

요청이 성공적으로 처리되었고, 요청 결과로 새로운 자원이 생성되었음을 나타내는 상태 코드

새로운 자원은 응답 메시지 본문에 넣어 반환하며, 보통 POST 요청에 대한 결과를 나타낸다.

### ✅ 202 Accepted

요청이 성공적으로 접수되었지만 아직 처리 전, 또는 처리 중임을 나타내는 상태코드

주로 비동기적인 작업을 처리하는 경우에 사용된다.

### 203 Non-Authoritative Information

요청에 대한 결과가 실제 서버가 아닌 캐시 서버에서 반환되었다는 것을 나타내는 상태 코드

클라이언트가 요청한 자원을 캐시 서버가 가지고 있다면, 실제 서버까지 도달하지 않고 캐시 서버에서 응답한다. 이때, 캐시 서버는 `203` 을 반환하여 클라이언트에게 실제 서버가 아닌 캐시 서버에서 온 정보임을 알려준다.

### ✅ 204 No Content

요청이 성공했지만 클라이언트가 현재 페이지에서 벗어나지 않아도 된다는 것을 나타내는 상태 코드

임시 저장과 같은 기능을 구현할 때 사용할 수 있다. 글 작성 도중, PUT 요청으로 페이지를 저장하고 `204` 로 응답을 전송하여 다른 페이지로 대체해서는 안 된다는 것을 나타낼 수 있다.

### 205 Reset Content

요청한 작업이 성공적으로 완료되었으며, 현재 화면을 리셋 또는 다른 화면으로 전환해야 함을 나타내는 상태 코드

204와 반대되는 의미를 가진다.

### ✅ 206 Partial Content

부분 요청에 대한 응답으로, 서버가 요청한 자원의 일부만 반환했다는 것을 나타내는 상태 코드

요청 헤더의 Range에 응답받을 데이터 범위를 지정한다.

### 207 Multi-Status

클라이언트가 서버의 다중 리소스에 대한 상태를 조회, 수정할 때 사용되는 상태코드

일반적인 웹 애플리케이션에서는 자주 사용되지 않으며, 주로 웹DAV와 같이 다중 리소스에 대한 작업을 처리하는 프로토콜이나 서비스에서 사용된다.

> 웹DAV<br>
웹 상에서 파일을 관리하고 공유하기 위한 프로토콜과 기술의 집합

## 3xx

리다이렉션을 나타내며, 클라이언트가 추가 동작을 수행하여 요청을 완료해야 할 때 사용한다.

### 300 Multiple Choices

요청에 가능한 응답이 두 개 이상 있음을 의미하는 상태 코드

둘 중 하나를 선택해야 하는데 하나를 선택하는 표준화된 방법이 없기 때문에 거의 사용되지 않는다.

### ✅ 301 Moved Permanently

요청한 자원이 `Location` 헤더에 주어진 URL로 완전히 옮겨졌다는 것 나타내는 상태 코드

쉽게 표현하면 전화번호를 변경했을 때, 이전 번호로 연락하면 변경된 번호를 알려주는 것과 같은 의미이다.

### ✅ 302 Found

요청한 자원이 `Location` 헤더에 지정된 URL로 일시적으로 이동되었음을 나타내는 상태 코드

웹 애플리케이션에서 로그인이 필요한 페이지에 접근하려는 클라이언트에게 로그인 페이지로 리다이렉트하는 경우 사용될 수 있다.

### ✅ 303 See Other

클라이언트에게 다른 자원으로 리다이렉트하라는 상태 코드

PRG 패턴을 위해 사용할 수 있으며, 서버는 리다이렉트할 URL을 `Location` 헤더에 포함하여 응답해야 한다. 클라이언트는 이 헤더를 해석하여 리다이렉트할 URL을 얻게 되며, 해당 URL로 GET 요청을 보낸다.

### ✅ 304 Not Modified

클라이언트가 요청한 자원이 수정되지 않았음을 나타내는 상태 코드

따라서 자원을 다시 가져오지 않아도 되며, 이전에 받았던 캐시된 자원을 계속 사용하면 된다는 것을 의미한다.

### ✅ 307 Temporary Redirect

요청한 자원이 `Location` 헤더에 주어진 URL로 일시적으로 옮겨졌다는 것을 나타내는 상태 코드

#### 302와의 차이점

302는 일반적으로 POST 요청을 GET 요청으로 변환하여 리다이렉트한다. 이로 인해 POST 요청의 데이터가 유실될 수 있다. 반면, 307은 Method와 Body를 변경하지 않고 리다이렉트 요청을 하도록 보장한다.

### ✅ 308 Permanent Redirect

요청된 자원이 `Location` 헤더에 지정된 URL로 완전히 이동되었음을 나타내는 상태 코드

#### 301과의 차이점

비슷한 역할을 하지만 301은 POST요청을 GET 요청으로 잘못 변경할 수 있다.

`308` 은 클라이언트의 요청 메서드와 데이터를 유지하여 보다 안정적인 리다이렉트를 제공한다.

## 4xx

클라이언트 오류를 나타내며, 클라이언트의 요청이 잘못되었거나 유효하지 않을 때 사용한다.

### ✅ 400 Bad Request

클라이언트 오류로 인해 서버가 요청을 처리할 수 없거나, 하지 않는다는 것을 의미하는 상태 코드

`4xx` 를 포괄하는 일반적인 응답으로 구체적으로 응답할 다른 코드가 없을 때 사용한다.

### ✅ 401 Unauthorized

클라이언트가 인증되지 않은 상태에서 보호된 자원에 접근을 시도할 때 사용되는 상태 코드

응답으로 인증이 필요하다는 메시지와 함께 인증 방식을 제공하여 인증을 완료하도록 유도한다.

### ✅ 403 Forbidden

서버에 요청이 전달되었지만, 권한이 없어 요청이 거절되었다는 것을 의미하는 상태 코드

#### 401과의 차이

`403` 은 인증 실패가 아닌 권한 거부를 나타낸다. 클라이언트가 올바른 자격 증명을 제공하여 인증되었더라도, 해당 리소스에 대한 접근 권한이 없는 경우 사용된다.

### ✅ 404 Not Found

서버가 요청받은 리소스를 찾을 수 없다는 것을 의미하는 상태 코드

클라이언트가 잘못된 URL을 요청하거나, 요청한 리소스가 서버에 존재하지 않는 경우 사용된다.

### ✅ 405 Method Not Allowed

클라이언트가 요청한 HTTP 메서드가 서버에서 허용되지 않는 경우에 반환되는 상태 코드

응답 헤더의 `Allow` 필드에는 실제로 허용되는 메서드 목록이 포함되며, 클라이언트는 이 정보를 사용하여 올바른 메서드를 선택할 수 있다.

```HTTP
HTTP/1.1 405 Method Not Allowed
Allow: GET, POST

The requested method is not allowed for the URL.
```
### ✅ 406 Not Acceptable

클라이언트가 요청한 자원의 형식을 서버가 제공할 수 없을 때 반환하는 상태 코드

요청의 `Accept` 헤더와 서버의 제공 형식 간의 불일치가 있는 경우에 발생할 수 있다.

### 408 Request Timeout

요청이 서버로 전송된 후에 일정 시간 내에 서버로부터 응답을 받지 못한 경우에 반환되는 상태 코드

### ✅ 409 Conflict

서버의 현재 상태와 요청이 충돌했음을 나타내는 상태 코드

보통 자원간의 충돌이 발생해 일관성에 문제가 생기는 경우 사용한다.

### ✅ 429 Too Many Requests

클라이언트가 일정 시간 내에 너무 많은 요청을 보낼 때 반환되는 상태 코드

다음 요청까지 얼마나 대기해야 하는지 알려주는 `Retry-After` 헤더가 이 응답에 포함될 수 있다.

## 5xx

클라이언트의 요청을 처리하는 동안 서버 측에서 문제가 발생했음을 나타낸다.

### ✅ 500 Internal Server Error

요청을 처리하는 과정에서 서버가 예상하지 못한 상황에 놓였다는 것을 나타내는 상태 코드

서버 에러를 포괄하는 일반적인 응답으로 보통 구체적으로 응답할 5xx 에러 코드를 찾지 못했을 때 사용한다.

### ✅ 501 Not Implemented

요청을 수행할 수 있는 기능을 서버가 지원하지 않을 때 사용하는 상태 코드

서버에서 추후 기능이 지원된다면 요청자에게 다시 확인해볼 수 있는 시점을 알려줄 수 있도록 `Retry-After` 헤더를 전송해줄 수 있다. 서버가 요청을 이해하지 못하는 경우에 사용하며, 서버가 고의적으로 해당 기능을 지원하지 않는 경우는 `405` 응답이 적합하다.

### ✅ 502 Bad Gateway

중개 서버가 상위 서버로부터 올바른 응답을 받지 못했다는 것을 나타내는 상태 코드

클라이언트의 요청을 받은 프록시 서버가 실제 서버로부터 유효한 응답을 받지 못하는 경우 사용한다.

### ✅ 503 Service Unavailable

서버가 요청을 처리할 준비가 되지 않은 것을 의미하는 상태 코드

서버가 과부화 상태, 혹은 다운되거나 유지보수 중일때 사용한다. 일시적인 상황에만 사용되어야 하고, 가능하다면 `Retry-After` 헤더에 서비스 복구 예상 시간을 포함해야 한다.

### ✅ 504 Gateway Timeout

중개 서버가 상위 서버로부터 지정된 시간 내에 응답을 받지 못해 시간이 초과되었다는 것을 알리는 상태 코드

### 505 HTTP Version Not Supported

요청에 사용된 HTTP 버전이 서버가 지원하지 않는 버전임을 나타내는 상태 코드